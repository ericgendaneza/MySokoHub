{% extends 'base.html' %}
{% load static %}
{% block title %}
    SokoHub - Register
{% endblock %}
{% block content %}

<div class="register-container">
    <div class="card p-4 shadow-lg" style="width: 100%; max-width: 650px;">
        <h3 class="card-title text-center mb-4">Create Your Account - SokoHub</h3>
        
        <form method="post" action="{% url 'register' %}" class="row g-3">
            
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div class="col-12">
                    <div class="alert alert-danger" role="alert">
                        {% for error in form.non_field_errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                </div>
            {% endif %}

            <div class="col-md-6 col-12">
                <label for="{{ form.username.id_for_label }}" class="form-label">Username</label>
                <input 
                    type="text" 
                    class="form-control {% if form.username.errors %}is-invalid{% endif %}" 
                    id="{{ form.username.id_for_label }}" 
                    name="{{ form.username.html_name }}" 
                    placeholder="Choose a username"
                    required
                >
                {% for error in form.username.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="col-md-6 col-12">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                <input 
                    type="email" 
                    class="form-control {% if form.email.errors %}is-invalid{% endif %}" 
                    id="{{ form.email.id_for_label }}" 
                    name="{{ form.email.html_name }}" 
                    placeholder="you@example.com"
                    required
                >
                {% for error in form.email.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>
            
            <div class="col-md-6 col-12">
                <label for="{{ form.password.id_for_label }}" class="form-label">Password</label>
                <input 
                    type="password" 
                    class="form-control {% if form.password.errors %}is-invalid{% endif %}" 
                    id="{{ form.password.id_for_label }}" 
                    name="{{ form.password.html_name }}" 
                    required
                >
                {% for error in form.password.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="col-md-6 col-12">
                <label for="{{ form.password_confirm.id_for_label }}" class="form-label">Confirm Password</label>
                <input 
                    type="password" 
                    class="form-control {% if form.password_confirm.errors %}is-invalid{% endif %}" 
                    id="{{ form.password_confirm.id_for_label }}" 
                    name="{{ form.password_confirm.html_name }}" 
                    required
                >
                {% for error in form.password_confirm.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="col-md-4 col-12">
                <label for="{{ form.user_type.id_for_label }}" class="form-label">Account Type</label>
                <select 
                    class="form-select {% if form.user_type.errors %}is-invalid{% endif %}" 
                    id="{{ form.user_type.id_for_label }}" 
                    name="{{ form.user_type.html_name }}"
                    required
                >
                {% for choice in form.user_type %}
                <option value=" {{ choice.value }}"> {{ choice }} </option>
                {% endfor %}

                </select>
                {% for error in form.user_type.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="col-md-4 col-12">
                <label for="{{ form.phone.id_for_label }}" class="form-label">Phone</label>
                <input 
                    type="tel" 
                    class="form-control {% if form.phone.errors %}is-invalid{% endif %}" 
                    id="{{ form.phone.id_for_label }}" 
                    name="{{ form.phone.html_name }}" 
                    placeholder="e.g., +1 555 1234"
                >
                {% for error in form.phone.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="col-md-4 col-12">
                <label for="{{ form.location.id_for_label }}" class="form-label">Location</label>
                <input 
                    type="text" 
                    class="form-control {% if form.location.errors %}is-invalid{% endif %}" 
                    id="{{ form.location.id_for_label }}" 
                    name="{{ form.location.html_name }}" 
                    placeholder="City or Region"
                >
                {% for error in form.location.errors %}
                    <div class="invalid-feedback">{{ error }}</div>
                {% endfor %}
            </div>

            <div class="col-12 mt-4">
                <button type="submit" class="btn btn-success btn-lg w-100">Register</button>
            </div>
        </form>
        <div class="text-center mt-3">
            <small class="text-muted">Already have an account? <a href="{% url 'login' %}">Log In</a></small>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
{% endblock %}